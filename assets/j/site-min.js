function linkify_tweet(b){var a=/(^|\s)(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;b=b.replace(a," <a href='$2'>$2</a> ");b=b.replace(/(^|\s|.)@(\w+)/g,' $1<a href="http://www.twitter.com/$2">@$2</a> ');return b.replace(/(^|\s)#(\w+)/g,' $1<a href="http://search.twitter.com/search?q=%23$2">#$2</a> ')}function relative_time(b){var a=Date.parse(b);var c=(arguments.length>1)?arguments[1]:new Date();var d=parseInt((c.getTime()-a)/1000);if(d<60){return"less than a minute ago"}else{if(d<120){return"about a minute ago"}else{if(d<(45*60)){return(parseInt(d/60)).toString()+" minutes ago"}else{if(d<(90*60)){return"about an hour ago"}else{if(d<(24*60*60)){return"about "+(parseInt(d/3600)).toString()+" hours ago"}else{if(d<(48*60*60)){return"1 day ago"}else{return(parseInt(d/86400)).toString()+" days ago"}}}}}}}function recent_tweets(c){var a;a='<h2 class="widget-title"><i class="ico ico-tw"></i> Twitter Feed</h2>';a=a+'<div class="widget-body"><ul class="widget-list">';for(var b=0;b<c.length;b++){c[b].text=linkify_tweet(c[b].text);a=a+"<li>";a=a+c[b].text;a=a+'  <span class="widget-time">';a=a+'<a href="http://twitter.com/'+twitterUsername+"/status/";a=a+(c[b].id_str?c[b].id_str:c[b].id)+'">';a=a+relative_time(c[b].created_at);a=a+"</a>";a=a+"</span></li>"}a=a+"</ul></div>";document.getElementById("wgttw").innerHTML=a}(function(b){var c=null;b.fn.rssfeed=function(e,d){var f={limit:6,titletag:"h3",content:true,snippet:true,showerror:false,errormsg:"",key:null};var d=b.extend(f,d);return this.each(function(h,k){var g=b(k);if(!g.hasClass("rssFeed")){g.addClass("rssFeed")}if(e==null){return false}var j="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+e;if(d.limit!=null){j+="&num="+d.limit}if(d.key!=null){j+="&key="+d.key}b.getJSON(j,function(i){if(i.responseStatus==200){a(k,i.responseData.feed,d)}else{if(d.showerror){if(d.errormsg!=""){var l=d.errormsg}else{var l=i.responseDetails}}b(k).html('<div class="rssError"><p>'+l+"</p></div>")}})})};var a=function(l,d,f){if(!d){return false}var h="";var m="odd";h+='<h2 class="widget-title"><i class="ico ico-pi"></i> Recent Pins</h2>   <div class="widget-body"><ul class="widget-list">';for(var g=0;g<d.entries.length;g++){var k=d.entries[g];h+='<li class="'+m+'">';if(f.content){if(f.snippet&&k.contentSnippet!=""){var j=k.contentSnippet}else{var j=k.content}h+=j}h+="</li>";if(m=="odd"){m="even"}else{m="odd"}}h+="</ul></div>";b(l).html(h);b(function(){b('#wgtpi .widget-list a[href^="/pin"]').each(function(){var e=b(this).attr("href");b(this).attr("href","http://www.pinterest.com"+e)})})}})(jQuery);$(document).ready(function(){if(typeof pinterestUsername=="string"){$("#wgtpi").rssfeed("http://www.pinterest.com/"+pinterestUsername+"/feed.rss",{limit:6,snippet:false,header:false,date:false})}});